{% extends "manager/layout.html" %}

{% block manager_content %}
<div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
    <h1 class="h2">Manage Groups</h1>
    <div class="btn-toolbar mb-2 mb-md-0">
        <a href="{{ url_for('manager.new_group') }}" class="btn btn-td-green">
            <i class="fas fa-plus"></i> New Group
        </a>
    </div>
</div>

<div class="table-responsive bg-white rounded shadow-sm">
    <table class="table table-hover mb-0">
        <thead class="bg-light">
            <tr>
                <th scope="col" class="ps-4">Name</th>
                <th scope="col">Description</th>
                <th scope="col">Members</th>
                <th scope="col" class="text-end pe-4">Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for group in groups %}
            <tr>
                <td class="ps-4 fw-bold">{{ group.name }}</td>
                <td>{{ group.description }}</td>
                <td>{{ group.members.count() }}</td>
                <td class="text-end pe-4">
                    <a href="{{ url_for('manager.edit_group', id=group.id) }}"
                        class="btn btn-sm btn-outline-primary me-1">Edit</a>
                    <a href="{{ url_for('manager.delete_group', id=group.id) }}" class="btn btn-sm btn-outline-danger"
                        data-confirm-message="Are you sure? This will not delete users, only the group.">Delete</a>
                </td>
            </tr>
            {% else %}
            <tr>
                <td colspan="4" class="text-center py-4 text-muted">No groups found.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}